
<%

#
# CBRAIN Project
#
# Original author: Pierre Rioux
#
# $Id$
#

-%>
<div class = "generalcontent">

  <% title 'Execution Servers' %>

  <% if check_role(:admin) || check_role(:site_manager)%>
      <div class="resource_list_upper_form">
            <%= 
              link_to_function 'Create New Execution Server', :class  => 'action_link' do |page|
                page['new_bourreau'].toggle
              end 
              %>
            <div id="new_bourreau" style="display:none">
              <%= render :partial  => 'new' %>
            </div>
      </div> <!-- End class="upper_form" -->
   <% end %>
   <br>
   <div id="show_details_link" style="display:inline;">
    <%= 
        link_to_function 'Show Details', {:class  => 'action_link', :id => "show_details_link"} do |page|
          page.select('.resource_details').each{ |el| el.show  }
          page['hide_details_link'].show
          page['show_details_link'].hide
        end 
        %>
    </div>
    <div id="hide_details_link" style="display:none;">
        <%= 
        link_to_function 'Hide Details', {:class  => 'action_link', :id =>'hide_details_link'} do |page|
          page.select('.resource_details').each{ |el| el.hide  }
          page['show_details_link'].show
          page['hide_details_link'].hide      
        end 
            %>
    </div>
    
   <div id = "bourreau_info">
  

    <table class="resource_list" id="bourreau_table">
         <tr>
             <th>Server Class</th>
             <th>Server Name</th>
             <th class="resource_details" style="display:none">Owner</th>
             <th class="resource_details" style="display:none">Group</th>
             <th>Site</th>
             <th>Online?</th>
             <th>Alive?</th>
             <th>Workers?</th>
             <th>Load</th>
             <th class="resource_details" style="display:none">Description</th>
             <th colspan="4">Operations</th>
         </tr>

         <% for bour in @bourreaux %>
             <%= render :partial => 'bourreau_table_row', :locals  => {:bour  => bour} %>
         <% end %>
     </table>
  
  </div>
</div>  <!-- End class="generalcontent" -->
