
<%-
#
# CBRAIN Project
#
# Copyright (C) 2008-2012
# The Royal Institution for the Advancement of Learning
# McGill University
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
-%>

<% if current_session.persistent_userfile_ids.size > 0 %>
  <div class="pagination_left_side">
    <blink><%= html_colorize("(#{pluralize(current_session.persistent_userfile_ids.size," file")} persistently selected)") %></blink>
  </div>
<% end %>

<div class="page_links">

  <%= will_paginate @userfiles, :inner_window => 5, :outer_window => 4, :container => false, :params => { :file_ids => nil } %>

  (
  <%= pluralize(@userfiles_total," entry") %> , <%= colored_pretty_size(@userfiles_total_size) %>

  <%=
  if @hidden_total.present? && (@hidden_total.is_a?(String) || @hidden_total > 0)
    (", #{@hidden_total} hidden " + hidden_icon).html_safe
  end
  -%>
  <%=
  if @archived_total.present? && (@archived_total.is_a?(String) || @archived_total > 0)
    (", #{@archived_total} archived " + archived_icon).html_safe
  end
  -%>
  <%=
  if @immutable_total.present? && (@immutable_total.is_a?(String) || @immutable_total > 0)
    (", #{@immutable_total} immutable " + immutable_icon).html_safe
  end
  -%>
  )

</div>

<div class="pagination_right_side">
  Search by name: <%= ajax_search_box "name_like", userfiles_path(:update_filter => :filter_hash) %>
</div>

