
<%= link_to 'Create Custom Filter', new_custom_filter_path(:type  => 'userfile') %>

<P>

<h4>By Filter</h4>
     
<ul class="filter_menu">

  <li><%= link_to 'All Files', {:controller  => :userfiles, :action  => :index, :userfiles_search_type  => :unfilter}, 
                                "data-datatype"  => 'script', :class  => "ajax_link"
       %> 
  </li> 

  <li><%= link_to 'MINC Files', {:controller  => :userfiles, :action  => :index, :userfiles_search_type => :minc}, 
                                 "data-datatype"  => 'script', :class  => "ajax_link"
  %> 
  </li>

  <li><%= link_to 'JIV Files', {:controller  => :userfiles, :action  => :index, :userfiles_search_type => :jiv},
                                "data-datatype"  => 'script', :class  => "ajax_link"
  %> 
  </li>
 
  <% UserfileCustomFilter.all(:conditions  =>  {:user_id  => current_user.id}).each do |filter| %>

    <li class="custom_filter">
      <b>
      <%= link_to crop_text_to(15, filter.name), { :controller  => :userfiles, :action  => :index, :userfiles_custom_filter  => filter.id }, "data-datatype"  => 'script', :class  => "ajax_link"
      %>
      </b>
      <small><small>
         <%= link_to 'Edit', edit_custom_filter_path(filter) %> 
         <%= link_to 'Delete', filter, :confirm => "Are you sure you want to delete filter '#{filter.name}'?", :method => :delete %>  
      </small></small>
    </li>

  <% end %>

</ul>

