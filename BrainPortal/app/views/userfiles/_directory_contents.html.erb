<% for file in file_list %>
   <% if file.symbolic_type == :directory %>
    <% on_click_ajax_replace({:element  => "tr", :url  => url_for(:action  => :content, :collection_dir => file.name.sub(/^#{@userfile.name}\//, "")), :position => "after", :before  => "<td colspan='3' class='loading_message'>Loading...</td>"}, {:class  => "#{cycle("list-odd", "list-even")}", :id => file.name.gsub("/", "_")}) do %>
       <%= render :partial => 'plain_file_list_row', :locals  => {:file  => file} %>
     <% end %>
   <% else %>
     <tr class="<%= cycle("list-odd", "list-even") %>">
       <%= render :partial => 'plain_file_list_row', :locals  => {:file  => file} %>
     </tr>
   <% end %>
<% end %>