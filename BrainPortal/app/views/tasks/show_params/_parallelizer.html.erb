
<fieldset>
  <legend>List of other tasks under control</legend>

  <p>
  This task has no parameters. It just run these other tasks in parallel:
  </p>

  <ul>
  <% task_ids_enabled = @task.params[:task_ids_enabled] || {} %>
  <% task_ids_enabled.keys.sort { |a,b| a.to_i <=> b.to_i }.each do |tid| %>
  <%   enabled = (task_ids_enabled[tid] || "0") == "1" %>
  <%   subtask = CbrainTask.find_by_id(tid) %>
    <li>
      <% if subtask %>
        <%= red_if(! enabled,"On","Off", :color1 => 'green') %>
        <%= link_to_task_if_accessible(subtask, nil, :name => subtask.fullname) %>
        (currently in state <strong><%= colored_status(subtask.status) %></strong>)
      <% else %>
        <%= red_if(true,"Off") %>
        (Task #<%= h(tid) %> no longer exists)
      <% end %>
    </li>
  <% end %>
  </ul>

  <p>
  In the task manager, you can view the full
  <%= filter_reset_link "list of tasks", :controller => :tasks, :filters  => { :launch_time => @task.launch_time.to_s(:db) }, :ajax => false %> 
  in this batch.
  </p>

</fieldset>


